

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Decorators &mdash; TcEx 1.1.0 documentation</title>








  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>


      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>

    <script type="text/javascript" src="../_static/js/theme.js"></script>




  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Logger Module" href="tcex.logger.html" />
    <link rel="prev" title="Batch Module" href="tcex.batch.html" />
</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



            <a href="../index.html" class="icon icon-home"> TcEx



          </a>




              <div class="version">
                1.1.0
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_apps_quickstart.html">Building Apps: Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_apps_tcinit.html">Building Apps: Templates (tcinit)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_apps_tclib.html">Building Apps: Dependencies (tclib)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_apps_tcpackage.html">Building Apps: Packaging (tcpackage)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing_apps_tcprofile.html">Testing Apps: Profiles (tcprofile)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing_apps_tcrun.html">Testing Apps: Running Profiles (tcrun)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_deployment_configuration.html">App-Deployment Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_directory_structure.html">App-Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_batch.html">Module: Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_metrics.html">Module: Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_notifications.html">Module: Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_playbook.html">Module: Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_request.html">Module: Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_resource.html">Module: Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_ti.html">Module: Threat Intelligence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_utils.html">Module: Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authorization.html">Authorization (Token/HMAC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exit.html">Exit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message_tc.html">Message TC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser.html">Parser/Args</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proxies.html">Proxies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results_tc.html">Results TC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">TcEx Package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tcex.html">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tcex.args.html">Args Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.batch.html">Batch Module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Decorators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-tcex.decorators.app_decorators">decorators.app_decorators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tcex.logger.html">Logger Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex.html">TcEx</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.bin.html">Bin Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.metrics.html">Metrics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.notifications.html">Notifications Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.playbooks.html">Playbooks Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.resources.html">Resources Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.sessions.html">Session Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex_data_filter.html">Data Filter Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex_error_codes.html">Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex_key_value.html">Key Value Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex_redis.html">Redis Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex_request.html">Request Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.tcex_ti.html">TI (threat intel) module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.vault.html">Vault Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcex.utils.html">Utils Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tcex.html#module-tcex">Module contents</a></li>
</ul>
</li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TcEx</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="../index.html">Docs</a> &raquo;</li>

          <li><a href="modules.html">TcEx Package</a> &raquo;</li>

          <li><a href="tcex.html">Modules</a> &raquo;</li>

      <li>Decorators</li>


      <li class="wy-breadcrumbs-aside">



      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="decorators">
<h1>Decorators<a class="headerlink" href="#decorators" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-tcex.decorators.app_decorators">
<span id="decorators-app-decorators"></span><h2>decorators.app_decorators<a class="headerlink" href="#module-tcex.decorators.app_decorators" title="Permalink to this headline">¶</a></h2>
<p>App Decorators Module.</p>
<dl class="class">
<dt id="tcex.decorators.app_decorators.Benchmark">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">Benchmark</code><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#Benchmark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.Benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Log benchmarking times.</p>
<p>This decorator will log the time of execution (benchmark_time) to the app.log file. It can be
helpful in troubleshooting performance issues with Apps.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="nd">@Debug</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">():</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.Benchmark.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#Benchmark.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.Benchmark.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.Debug">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">Debug</code><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#Debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.Debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Debug function inputs.</p>
<p>This decorator will log the inputs to the function to assist in debugging an App.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@Debug</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">args2</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.Debug.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#Debug.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.Debug.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.FailOnInput">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">FailOnInput</code><span class="sig-paren">(</span><em class="sig-param">enable</em>, <em class="sig-param">values</em>, <em class="sig-param">msg</em>, <em class="sig-param">arg=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#FailOnInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.FailOnInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fail App if input value conditions are met.</p>
<p>This decorator allows for the App to exit on conditions defined in the function
parameters.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@FailOnInput</span><span class="p">(</span><span class="n">enable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span> <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Invalid input provided.&#39;</span><span class="p">,</span> <span class="n">arg</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">lowercase</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.FailOnInput.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#FailOnInput.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.FailOnInput.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.FailOnOutput">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">FailOnOutput</code><span class="sig-paren">(</span><em class="sig-param">enable</em>, <em class="sig-param">values</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#FailOnOutput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.FailOnOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fail App if return value (output) value conditions are met.</p>
<p>This decorator allows for the App to exit on conditions defined in the function
parameters.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@FailOnOutput</span><span class="p">(</span>
    <span class="n">arg</span><span class="o">=</span><span class="s1">&#39;fail_on_false&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;false&#39;</span><span class="p">],</span> <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Operation returned a value of &quot;false&quot;.&#39;</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">lowercase</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.FailOnOutput.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#FailOnOutput.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.FailOnOutput.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.IterateOnArg">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">IterateOnArg</code><span class="sig-paren">(</span><em class="sig-param">arg</em>, <em class="sig-param">default=None</em>, <em class="sig-param">fail_on=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#IterateOnArg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.IterateOnArg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Iterate on values stored in <code class="docutils literal notranslate"><span class="pre">self.args</span></code> namespace.</p>
<p>This decorator will iterate over all value of the supplied arg and return results. This feature
is helpful when processing a single value (String) or array of values (StringArray). If the App
was provided the arg <code class="docutils literal notranslate"><span class="pre">self.args.colors</span></code> with a value of <code class="docutils literal notranslate"><span class="pre">['blue',</span> <span class="pre">'green',</span> <span class="pre">'magenta']</span></code>, then
this decorator would call the function 3 times. Each call to the function would pass one value
from the array. The return values are stored and returned all at once after the last value is
processed.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># the args value of &quot;colors&quot; refers to ``self.args.colors``.</span>
<span class="nd">@iterateOnArgs</span><span class="p">(</span><span class="n">arg</span><span class="o">=</span><span class="s1">&#39;colors&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">value</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.IterateOnArg.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#IterateOnArg.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.IterateOnArg.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.OnException">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">OnException</code><span class="sig-paren">(</span><em class="sig-param">msg=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#OnException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.OnException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Set exit message on failed execution.</p>
<p>This decorator will catch the generic “Exception” error, log the supplied error message, set
the “exit_message”, and exit the App with an exit code of 1.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@OnException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Failed to process JSON data.&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">json_data</span><span class="p">):</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.OnException.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#OnException.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.OnException.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.OnSuccess">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">OnSuccess</code><span class="sig-paren">(</span><em class="sig-param">msg=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#OnSuccess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.OnSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Set exit message on successful execution.</p>
<p>This decorator will set the supplied msg as the App “exit_message”. Typically and App would
only have 1 exit message so this decorator would typically be used in App that used “actions”.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@OnSuccess</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Successfully processed JSON data.&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">json_data</span><span class="p">):</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.OnSuccess.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#OnSuccess.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.OnSuccess.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.Output">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">Output</code><span class="sig-paren">(</span><em class="sig-param">attribute</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#Output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.Output" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Store the method return value in self.&lt;attribute&gt;.</p>
<p>This decorator will write, append, or extend the methods return value to the App attribute
provided in the <code class="docutils literal notranslate"><span class="pre">attribute</span></code> input. The <code class="docutils literal notranslate"><span class="pre">attribute</span></code> must first be defined in the
<code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method of the App before the decorator is used.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_tcex</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">App</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_tcex</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_strings</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Output decorator writes here.</span>

<span class="nd">@Output</span><span class="p">(</span><span class="n">attribute</span><span class="o">=</span><span class="s1">&#39;output_strings&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">lowercase</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.Output.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#Output.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.Output.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.ReadArg">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">ReadArg</code><span class="sig-paren">(</span><em class="sig-param">arg</em>, <em class="sig-param">array=False</em>, <em class="sig-param">default=None</em>, <em class="sig-param">fail_on=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#ReadArg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.ReadArg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Read value of App arg resolving any playbook variables.</p>
<p>This decorator will read the args from Redis, if it is a playbook variable, and pass the
resolved value to the function.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@ReadArg</span><span class="p">(</span><span class="n">arg</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.ReadArg.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#ReadArg.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.ReadArg.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tcex.decorators.app_decorators.WriteOutput">
<em class="property">class </em><code class="sig-prename descclassname">tcex.decorators.app_decorators.</code><code class="sig-name descname">WriteOutput</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">variable_type</em>, <em class="sig-param">value=None</em>, <em class="sig-param">overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#WriteOutput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.WriteOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Write the App output variables to Redis.</p>
<p>This decorator will take the functions return value and write the data to Redis using the
key and variable_type. An optional hard coded value can be passed, which will override the
return value. If multiple value are provided for the same output variable there is an option
to overwrite the previous value.</p>
<p>This decorator is intended for very simple Apps. Using the <cite>write_output()</cite> method of the App
template is the recommended way of writing output data.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@WriteOutput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">variable_type</span><span class="o">=</span><span class="s1">&#39;String&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">color</span><span class="o">.</span><span class="n">lowercase</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<dl class="method">
<dt id="tcex.decorators.app_decorators.WriteOutput.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tcex/decorators/app_decorators.html#WriteOutput.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tcex.decorators.app_decorators.WriteOutput.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement __call__ function for decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The decorated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The custom decorator function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>

          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="tcex.logger.html" class="btn btn-neutral float-right" title="Logger Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="tcex.batch.html" class="btn btn-neutral float-left" title="Batch Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, ThreatConnect Inc

    </p>
  </div>

</footer>

        </div>
      </div>

    </section>

  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>






</body>
</html>
