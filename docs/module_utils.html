

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Module: Utils &mdash; TcEx 2.0.11 documentation</title>



  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />







  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->


      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>

    <script type="text/javascript" src="_static/js/theme.js"></script>


    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Authorization (Token/HMAC)" href="authorization.html" />
    <link rel="prev" title="Module: Threat Intelligence" href="module_threat_intelligence.html" />
</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TcEx



          </a>




              <div class="version">
                2.0.11
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>


        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_quickstart.html">Building Apps: Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_tcinit.html">Building Apps: Templates (tcinit)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_tclib.html">Building Apps: Dependencies (tclib)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_tcpackage.html">Building Apps: Packaging (tcpackage)</a></li>
<li class="toctree-l1"><a class="reference internal" href="app_deployment_configuration.html">App-Deployment Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="app_directory_structure.html">App-Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_batch.html">Module: Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_cache.html">Module: Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_case_management.html">Module: Case Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_datastore.html">Module: Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_decorators.html">Module: Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_metrics.html">Module: Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_notifications.html">Module: Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_playbook.html">Module: Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_services.html">Module: Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_threat_intelligence.html">Module: Threat Intelligence</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Module: Utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#format-datetime">Format DateTime</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#weeks-ago-u-s-eastern-time-formatted-for-threatconnect">3 Weeks Ago U.S. Eastern Time Formatted for ThreatConnect</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unix-timestamp-integer">UNIX Timestamp Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unix-timestamp-string">UNIX Timestamp String</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iso-8601-date-zulu">ISO 8601 Date (Zulu)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iso-8601-date-zulu-in-u-s-eastern-time">ISO 8601 Date (Zulu) in U.S. Eastern Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iso-8601-date-with-timezone-offset">ISO 8601 Date with Timezone Offset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iso-8601-date-with-timezone-offset-in-u-s-eastern-time">ISO 8601 Date with Timezone Offset in U.S. Eastern Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#now-utc-unix-timestamp">Now UTC UNIX timestamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#now-in-u-s-central-time">Now in U.S. Central Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomorrow-at-6-a-m">Tomorrow at 6 A.M.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-monday-at-noon">Next Monday at Noon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#date-to-datetime">Date to Datetime</a></li>
<li class="toctree-l2"><a class="reference internal" href="#human-time-to-datetime">Human Time to Datetime</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unix-time-to-datetime">UNIX Time to Datetime</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authorization.html">Authorization (Token/HMAC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="exit.html">Exit</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_tc.html">Message TC</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">Parser/Args</a></li>
<li class="toctree-l1"><a class="reference internal" href="proxies.html">Proxies</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_tc.html">Results TC</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcex_docs/modules.html">TcEx Package</a></li>
</ul>



        </div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TcEx</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>

      <li>Module: Utils</li>


      <li class="wy-breadcrumbs-aside">



      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="module-utils">
<span id="id1"></span><h1>Module: Utils<a class="headerlink" href="#module-utils" title="Permalink to this headline">¶</a></h1>
<p>The ThreatConnect TcEx App Framework provides common <strong>utils</strong> methods to assist in writing Apps.</p>
<div class="section" id="format-datetime">
<h2>Format DateTime<a class="headerlink" href="#format-datetime" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="tcex_docs/tcex.utils.html#tcex.utils.date_utils.DatetimeUtils.format_datetime" title="tcex.utils.date_utils.DatetimeUtils.format_datetime"><code class="xref py py-mod docutils literal notranslate"><span class="pre">format_datetime</span></code></a> method accepts multiple input types and returns an ISO-formatted datetime string by default.  Optionally, the timezone of the timestamp can be provided as well as the <strong>strftime</strong> format.</p>
<p>Accepted Formats:</p>
<ol class="arabic simple">
<li><p>Human Input (e.g., 30 days ago, last Friday)</p></li>
<li><p>ISO 8601 (e.g., 2017-11-08T16:52:42Z)</p></li>
<li><p>“Loose” Date format (e.g., 2017 12 25)</p></li>
<li><p>UNIX® Time/POSIX Time/Epoch Time (e.g., 1510686617 or 1510686617.298753)</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module supports the use of <code class="docutils literal notranslate"><span class="pre">%s</span></code> to retrieve the datetime in UNIX format.</p>
</div>
<div class="section" id="weeks-ago-u-s-eastern-time-formatted-for-threatconnect">
<h3>3 Weeks Ago U.S. Eastern Time Formatted for ThreatConnect<a class="headerlink" href="#weeks-ago-u-s-eastern-time-formatted-for-threatconnect" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;3 weeks ago&#39;</span><span class="p">,</span> <span class="s1">&#39;UTC&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%SZ&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="unix-timestamp-integer">
<h3>UNIX Timestamp Integer<a class="headerlink" href="#unix-timestamp-integer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="mi">1510052400</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="unix-timestamp-string">
<h3>UNIX Timestamp String<a class="headerlink" href="#unix-timestamp-string" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;1510686617.298753&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="iso-8601-date-zulu">
<h3>ISO 8601 Date (Zulu)<a class="headerlink" href="#iso-8601-date-zulu" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;2017-11-08T16:52:42Z&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="iso-8601-date-zulu-in-u-s-eastern-time">
<h3>ISO 8601 Date (Zulu) in U.S. Eastern Time<a class="headerlink" href="#iso-8601-date-zulu-in-u-s-eastern-time" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;2017-11-08T16:52:42Z&#39;</span><span class="p">,</span> <span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="iso-8601-date-with-timezone-offset">
<h3>ISO 8601 Date with Timezone Offset<a class="headerlink" href="#iso-8601-date-with-timezone-offset" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;2017-11-08T16:52:42-05:00&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="iso-8601-date-with-timezone-offset-in-u-s-eastern-time">
<h3>ISO 8601 Date with Timezone Offset in U.S. Eastern Time<a class="headerlink" href="#iso-8601-date-with-timezone-offset-in-u-s-eastern-time" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;2017-11-08T16:52:42-00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="now-utc-unix-timestamp">
<h3>Now UTC UNIX timestamp<a class="headerlink" href="#now-utc-unix-timestamp" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;now&#39;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="now-in-u-s-central-time">
<h3>Now in U.S. Central Time<a class="headerlink" href="#now-in-u-s-central-time" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;now&#39;</span><span class="p">,</span> <span class="s1">&#39;US/Central&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="tomorrow-at-6-a-m">
<h3>Tomorrow at 6 A.M.<a class="headerlink" href="#tomorrow-at-6-a-m" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;tomorrow at 6 am&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="next-monday-at-noon">
<h3>Next Monday at Noon<a class="headerlink" href="#next-monday-at-noon" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;...</span><span class="n">snipped</span><span class="o">&gt;</span>
<span class="hll"><span class="n">tcex</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="s1">&#39;next monday at noon&#39;</span><span class="p">)</span>
</span><span class="o">&lt;</span><span class="n">snipped</span><span class="o">...&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="date-to-datetime">
<h2>Date to Datetime<a class="headerlink" href="#date-to-datetime" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="tcex_docs/tcex.utils.html#tcex.utils.date_utils.DatetimeUtils.date_to_datetime" title="tcex.utils.date_utils.DatetimeUtils.date_to_datetime"><code class="xref py py-mod docutils literal notranslate"><span class="pre">date_to_datetime</span></code></a> method uses the <strong>dateutil</strong> module to parse the provided data and return a <strong>datetime.datetime</strong> object.</p>
</div>
<div class="section" id="human-time-to-datetime">
<h2>Human Time to Datetime<a class="headerlink" href="#human-time-to-datetime" title="Permalink to this headline">¶</a></h2>
<p>Examples:</p>
<ul class="simple">
<li><p>August 25, 2008</p></li>
<li><p>25 Aug 2008</p></li>
<li><p>Aug 25, 5 p.m.</p></li>
<li><p>5 p.m., August 25</p></li>
<li><p>next Saturday</p></li>
<li><p>tomorrow</p></li>
<li><p>next Thursday at 4 p.m.</p></li>
<li><p>at 4 p.m,</p></li>
<li><p>eod</p></li>
<li><p>tomorrow eod</p></li>
<li><p>eod Tuesday</p></li>
<li><p>eoy</p></li>
<li><p>eom</p></li>
<li><p>in 5 minutes</p></li>
<li><p>5 minutes from now</p></li>
<li><p>5 hours before now</p></li>
<li><p>2 hours before noon</p></li>
<li><p>2 days from tomorrow</p></li>
</ul>
</div>
<div class="section" id="unix-time-to-datetime">
<h2>UNIX Time to Datetime<a class="headerlink" href="#unix-time-to-datetime" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="tcex_docs/tcex.utils.html#tcex.utils.date_utils.DatetimeUtils.unix_time_to_datetime" title="tcex.utils.date_utils.DatetimeUtils.unix_time_to_datetime"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unix_time_to_datetime</span></code></a> method converts a UNIX timestamp to a <strong>datetime.datetime</strong> object.</p>
<p>Examples:</p>
<ul class="simple">
<li><p>1510686617</p></li>
<li><p>1510686617.298753</p></li>
</ul>
<p>UNIX® is a registered trademark of The Open Group.</p>
</div>
</div>


           </div>

          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="authorization.html" class="btn btn-neutral float-right" title="Authorization (Token/HMAC)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="module_threat_intelligence.html" class="btn btn-neutral float-left" title="Module: Threat Intelligence" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>

        &copy; Copyright 2016, ThreatConnect Inc

    </p>
  </div>

</footer>

        </div>
      </div>

    </section>

  </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>






</body>
</html>
