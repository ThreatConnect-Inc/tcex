

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Module - Playbooks &mdash; TcEx 0.9.10 documentation</title>















  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Module - Requests" href="module_request.html" />
    <link rel="prev" title="Module - Notifications" href="module_notifications.html" />


  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">



            <a href="index.html" class="icon icon-home"> TcEx



          </a>




              <div class="version">
                0.9.10
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_quickstart.html">Building Apps - Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_tcinit.html">Building Apps - Templates (tcinit)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_tclib.html">Building Apps - Dependencies (tclib)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_apps_tcpackage.html">Building Apps - Packaging (tcpackage)</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_apps_tcprofile.html">Testing Apps - Profiles (tcprofile)</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_apps_tcrun.html">Testing Apps - Running Profiles (tcrun)</a></li>
<li class="toctree-l1"><a class="reference internal" href="app_deployment_configuration.html">App - Deployment Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="app_directory_structure.html">App - Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_batch.html">Module - Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_metrics.html">Module - Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_notifications.html">Module - Notifications</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Module - Playbooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#understanding-playbooks">Understanding Playbooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#playbook-flow">Playbook Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-variables">Input Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-variables">Output Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#variable-types">Variable Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module_request.html">Module - Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_resource.html">Module - Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_utils.html">Module - Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorization.html">Authorization (Token / HMAC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="exit.html">Exit</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_tc.html">Message TC</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">Parser / Args</a></li>
<li class="toctree-l1"><a class="reference internal" href="proxies.html">Proxies</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_tc.html">Results TC</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcex_docs/modules.html">TcEx Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcex_docs/modules.html#tcex-cli">TcEx CLI</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TcEx</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="index.html">Docs</a> &raquo;</li>

      <li>Module - Playbooks</li>


      <li class="wy-breadcrumbs-aside">



      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="module-playbooks">
<span id="id1"></span><h1>Module - Playbooks<a class="headerlink" href="#module-playbooks" title="Permalink to this headline">¶</a></h1>
<p>The ThreatConnect © TcEx App Framework provides common <em>helper</em> methods to write a Playbooks App.  The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook" title="tcex.tcex_playbook.TcExPlaybook"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TcExPlaybook</span></code></a> module provides all required methods to communicate with upstream and downstream Apps.</p>
<div class="section" id="understanding-playbooks">
<h2>Understanding Playbooks<a class="headerlink" href="#understanding-playbooks" title="Permalink to this headline">¶</a></h2>
<p>A Playbook App is a single component of a Playbook.  These Apps are intended to be reusable standalone components with minimum functionality to solve a single purpose.  Multiple Playbook Apps will make up a Playbook that solves a use case.  For more information on Playbook methodology and functionality refer to the Playbooks documentation.</p>
</div>
<div class="section" id="playbook-flow">
<h2>Playbook Flow<a class="headerlink" href="#playbook-flow" title="Permalink to this headline">¶</a></h2>
<p>As a Playbook starts execution each App will have input and output variables.  The input variables can be user provided data or output from an upstream App.  The Apps input and output variables are defined in the <a class="reference internal" href="app_deployment_configuration.html#app-deployment-configuration"><span class="std std-ref">App - Deployment Configuration</span></a> file of the App.  A downstream App has access to all output variables from any upstream Apps.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Upstream Apps are app that have completed execution previous to the current Apps execution.</p>
</div>
</div>
<div class="section" id="input-variables">
<h2>Input Variables<a class="headerlink" href="#input-variables" title="Permalink to this headline">¶</a></h2>
<p>Inputs to an App can be static user data or dynamic output variables from a trigger or upstream App.  The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook" title="tcex.tcex_playbook.TcExPlaybook"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TcExPlaybook</span></code></a> module provides the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.read" title="tcex.tcex_playbook.TcExPlaybook.read"><code class="xref py py-mod docutils literal notranslate"><span class="pre">read</span></code></a> method for pulling dynamic data from an upstream App. The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.read" title="tcex.tcex_playbook.TcExPlaybook.read"><code class="xref py py-mod docutils literal notranslate"><span class="pre">read</span></code></a> method will automatically determine the variable type for the App developer. If user data was passed instead of the output variable the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.read" title="tcex.tcex_playbook.TcExPlaybook.read"><code class="xref py py-mod docutils literal notranslate"><span class="pre">read</span></code></a> will return the unaltered string.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.read" title="tcex.tcex_playbook.TcExPlaybook.read"><code class="xref py py-mod docutils literal notranslate"><span class="pre">read</span></code></a> method will also handle mixed type data by automatically calling the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.read_embedded" title="tcex.tcex_playbook.TcExPlaybook.read_embedded"><code class="xref py py-mod docutils literal notranslate"><span class="pre">read_embedded</span></code></a> method when a mixed type variable is identified.</p>
</div>
</div>
<div class="section" id="output-variables">
<h2>Output Variables<a class="headerlink" href="#output-variables" title="Permalink to this headline">¶</a></h2>
<p>Playbook Apps write output variables for downstream Apps.  The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook" title="tcex.tcex_playbook.TcExPlaybook"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TcExPlaybook</span></code></a> module provides the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.create" title="tcex.tcex_playbook.TcExPlaybook.create"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create</span></code></a> method for writing output variables.  However, output variables should only be written when requested by a downstream App.  The requested variables are passed in the <code class="docutils literal notranslate"><span class="pre">args.tc_playbook_out_variables</span></code> argument as a CSV string.  The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook" title="tcex.tcex_playbook.TcExPlaybook"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TcExPlaybook</span></code></a> module provides the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.create_output" title="tcex.tcex_playbook.TcExPlaybook.create_output"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create_output</span></code></a> method that will validate that a downstream App requested the output variable before writing.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">In most cases the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.create_output" title="tcex.tcex_playbook.TcExPlaybook.create_output"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create_output</span></code></a> method is the best way to write output variables.</p>
</div>
</div>
<div class="section" id="variable-types">
<h2>Variable Types<a class="headerlink" href="#variable-types" title="Permalink to this headline">¶</a></h2>
<p>When output variables are passed to the input of an App the variable type is defined.  In some cases it is useful to know the type of variable passed. The <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook" title="tcex.tcex_playbook.TcExPlaybook"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TcExPlaybook</span></code></a> module provides the <a class="reference internal" href="tcex_docs/tcex.tcex_playbook.html#tcex.tcex_playbook.TcExPlaybook.variable_type" title="tcex.tcex_playbook.TcExPlaybook.variable_type"><code class="xref py py-mod docutils literal notranslate"><span class="pre">variable_type</span></code></a> method that will return the variable type.</p>
<ul class="simple">
<li>Binary</li>
<li>BinaryArray</li>
<li>KeyValue</li>
<li>KeyValueArray</li>
<li>String</li>
<li>StringArray</li>
<li>TCEntity</li>
<li>TCEntityArray</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information on Playbook variable types or updated type please see the Playbooks documentation.</p>
</div>
</div>
</div>


           </div>

          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="module_request.html" class="btn btn-neutral float-right" title="Module - Requests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="module_notifications.html" class="btn btn-neutral" title="Module - Notifications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, ThreatConnect Inc

    </p>
  </div>

</footer>

        </div>
      </div>

    </section>

  </div>







      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>




  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
